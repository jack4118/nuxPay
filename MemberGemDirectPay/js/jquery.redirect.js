!function(u){"use strict";u.redirect=function(t,r,e,a,n){e=e&&-1!==["GET","POST","PUT","DELETE"].indexOf(e.toUpperCase())?e.toUpperCase():"POST";var i=(t=t.split("#"))[1]?"#"+t[1]:"";if(t=t[0],!r){var o=u.parseUrl(t);t=o.url,r=o.params}r=f(r);var p=u("<form>").attr("method",e).attr("action",t+i);a&&p.attr("target",a);var l={};p[0][l]=p[0].submit,s(r,[],p,null,n),u("body").append(p),p[0][l]()},u.parseUrl=function(t){if(-1===t.indexOf("?"))return{url:t,params:{}};var r=t.split("?"),e=r[1].split("&");t=r[0];var a,n,i={};for(a=0;a<e.length;a+=1)i[(n=e[a].split("="))[0]]=n[1];return{url:t,params:i}};var s=function(r,e,a,n,i){var o=[];Object.keys(r).forEach(function(t){"object"==typeof r[t]?(o=e.slice(),n?o.push(""):o.push(t),s(r[t],o,a,Array.isArray(r[t]),i)):a.append(function(t,r,e,a,n){var i;if(0<e.length){var o;for(i=e[0],o=1;o<e.length;o+=1)i+="["+e[o]+"]";t=a?n?i:i+"[]":i+"["+t+"]"}return u("<input>").attr("type","hidden").attr("name",t).attr("value",r)}(t,r[t],e,n,i))})},f=function(t){for(var r=Object.getOwnPropertyNames(t),e=0;e<r.length;e++){var a=r[e];null===t[a]||void 0===t[a]?delete t[a]:"object"==typeof t[a]?t[a]=f(t[a]):t[a].length<1&&delete t[a]}return t}}(window.jQuery||window.Zepto||window.jqlite);